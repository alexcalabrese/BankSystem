<!DOCTYPE html>
<html>

<head>
    <title> HomePage </title>
    <style>
        table {
            font-family: Arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }
        
        td,
        th {
            border: 2px solid #dddddddd;
            text-align: left;
            padding: 4px;
        }
    </style>

</head>

<body>
    <h1> Bank </h1>

        <h3 id="textTransferMoney" class="hiddenInformation"> Money transfers</h3>
        <table class="hiddenInformation">
            <thead>
                <tr>
                    <th><h5 style="text-align: center;">User bank account</h5> </th>
                    <th><h5 style="text-align: center;">Sender or Receiver</h5></th>
                    <th><h5 style="text-align: center;">Money Transfered</h5></th>
                </tr>
               
            </thead>
            <tbody>
            </tbody>
            <script>
                const tableAPI = 'https://api.agify.io/?name=alex';
                const tableBody = document.querySelector('tbody');
                fetch(tableAPI)
                .then((response) => response.json())
                .then((todos) => {
                   const stringFiedTodos = todos.reduce((itemToRenderInTable, todo, index) => {
                       return (
                           itemToRenderInTable +  `<tr>
                    <td> ${index + 1}</td>
                    <td>${todo.title}</td>
                    
                </tr>
                `
                        
                       );
                }, '');
                tableBody.innerHTML = stringFiedTodos
            })
                .catch(console.error);
            </script>
            
        </table>

</body>

</html>
<script>
    var control = false;
    window.onload = login;

    function login() {

        while (control == false) {
            var user = window.prompt("Enter Bank Account: ");
            if (user.length != 20) {
                alert("Error! leng")
                login();
            } else {
                let re = /[0-9A-Fa-f]{20}/g;

                if (re.test(user)) {
                    // let account = getAccount();
                    console.log(getAccount());
                } else {
                    alert('invalid bank account');
                    login();
                }

                re.lastIndex = 0;
            }
            control = true;
        }
        document.getElementById("userTable").innerHTML = user;
    }

    // function getAccount() {
    //     let url = 'https://api.agify.io/?name=alex'
    //     fetch(url)
    //         .then(response => response.json())
    //         .then(account =>
    //         //Qui popoleremo la tabella
    //     console.log(account.age));
            
    //     // console.log("Ciao");
    //     // return account_age;
    // }
    // //cccccccccccccccccccc
</script>